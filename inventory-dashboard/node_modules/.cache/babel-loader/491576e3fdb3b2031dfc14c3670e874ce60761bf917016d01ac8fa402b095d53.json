{"ast":null,"code":"import React,{useState}from\"react\";import axios from\"axios\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const StockControls=_ref=>{let{ingredient,setIngredients}=_ref;const[amount,setAmount]=useState(\"\");// Removed default \"1\"\nconst updateStock=async action=>{const numericAmount=parseInt(amount);if(!numericAmount||numericAmount<=0)return;try{const url=`http://127.0.0.1:8000/${action}/${ingredient.barcode}`;const response=await axios.patch(url,{amount:numericAmount});if(response.status===200){setIngredients(prevIngredients=>prevIngredients.map(ing=>ing.barcode===ingredient.barcode?{...ing,num_containers:ing.num_containers+(action===\"increase\"?numericAmount:-numericAmount)}:ing));}setAmount(\"\");// Clear input after update\n}catch(error){console.error(`Error updating stock (${action}):`,error);}};return/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",alignItems:\"center\",gap:\"5px\"},children:[/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:amount,min:\"1\",placeholder:\"Enter\",onChange:e=>setAmount(e.target.value),style:{width:\"60px\",textAlign:\"center\",borderRadius:\"5px\",border:\"1px solid #ccc\"}}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>updateStock(\"increase\"),style:{backgroundColor:\"green\",color:\"white\",border:\"none\",borderRadius:\"50%\",width:\"25px\",height:\"25px\",fontSize:\"16px\",cursor:\"pointer\",display:\"flex\",justifyContent:\"center\",alignItems:\"center\"},children:\"+\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>updateStock(\"decrease\"),style:{backgroundColor:\"green\",color:\"white\",border:\"none\",borderRadius:\"50%\",width:\"25px\",height:\"25px\",fontSize:\"16px\",cursor:\"pointer\",display:\"flex\",justifyContent:\"center\",alignItems:\"center\"},children:\"-\"})]});};export default StockControls;","map":{"version":3,"names":["React","useState","axios","jsx","_jsx","jsxs","_jsxs","StockControls","_ref","ingredient","setIngredients","amount","setAmount","updateStock","action","numericAmount","parseInt","url","barcode","response","patch","status","prevIngredients","map","ing","num_containers","error","console","style","display","alignItems","gap","children","type","value","min","placeholder","onChange","e","target","width","textAlign","borderRadius","border","onClick","backgroundColor","color","height","fontSize","cursor","justifyContent"],"sources":["C:/Users/charl/OneDrive/Documents/GitHub/NMOW-Senior-Design-APP-TEST/inventory-dashboard/src/components/StockControls.js"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport axios from \"axios\";\r\n\r\nconst StockControls = ({ ingredient, setIngredients }) => {\r\n  const [amount, setAmount] = useState(\"\"); // Removed default \"1\"\r\n\r\n  const updateStock = async (action) => {\r\n    const numericAmount = parseInt(amount);\r\n    if (!numericAmount || numericAmount <= 0) return;\r\n\r\n    try {\r\n      const url = `http://127.0.0.1:8000/${action}/${ingredient.barcode}`;\r\n      const response = await axios.patch(url, { amount: numericAmount });\r\n\r\n      if (response.status === 200) {\r\n        setIngredients((prevIngredients) =>\r\n          prevIngredients.map((ing) =>\r\n            ing.barcode === ingredient.barcode\r\n              ? { ...ing, num_containers: ing.num_containers + (action === \"increase\" ? numericAmount : -numericAmount) }\r\n              : ing\r\n          )\r\n        );\r\n      }\r\n      setAmount(\"\"); // Clear input after update\r\n    } catch (error) {\r\n      console.error(`Error updating stock (${action}):`, error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div style={{ display: \"flex\", alignItems: \"center\", gap: \"5px\" }}>\r\n      <input\r\n        type=\"number\"\r\n        value={amount}\r\n        min=\"1\"\r\n        placeholder=\"Enter\"\r\n        onChange={(e) => setAmount(e.target.value)}\r\n        style={{\r\n          width: \"60px\",\r\n          textAlign: \"center\",\r\n          borderRadius: \"5px\",\r\n          border: \"1px solid #ccc\",\r\n        }}\r\n      />\r\n      <button\r\n        onClick={() => updateStock(\"increase\")}\r\n        style={{\r\n          backgroundColor: \"green\",\r\n          color: \"white\",\r\n          border: \"none\",\r\n          borderRadius: \"50%\",\r\n          width: \"25px\",\r\n          height: \"25px\",\r\n          fontSize: \"16px\",\r\n          cursor: \"pointer\",\r\n          display: \"flex\",\r\n          justifyContent: \"center\",\r\n          alignItems: \"center\",\r\n        }}\r\n      >\r\n        +\r\n      </button>\r\n      <button\r\n        onClick={() => updateStock(\"decrease\")}\r\n        style={{\r\n          backgroundColor: \"green\",\r\n          color: \"white\",\r\n          border: \"none\",\r\n          borderRadius: \"50%\",\r\n          width: \"25px\",\r\n          height: \"25px\",\r\n          fontSize: \"16px\",\r\n          cursor: \"pointer\",\r\n          display: \"flex\",\r\n          justifyContent: \"center\",\r\n          alignItems: \"center\",\r\n        }}\r\n      >\r\n        -\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default StockControls;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}