{"ast":null,"code":"import React,{useState}from\"react\";import{useNavigate}from\"react-router-dom\";import axios from\"axios\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const AddIngredient=()=>{const navigate=useNavigate();const[formData,setFormData]=useState({ingredient_name:\"\",num_containers:\"\",units_per_container:\"\",unit:\"Servings\",expiration_date:\"\",storage_location:\"\",item_category:\"\",storage_type:\"\",container_type:\"\",brand:\"\",tefap:false});const itemCategories=[\"Vegetable\",\"Starch\",\"Fruit\",\"Canned Entree\",\"Sauce\",\"Misc\",\"Dessert\",\"Beans\",\"Snack\",\"Protein Entree\",\"Starch and Protein Entree\"];const storageTypes=[\"Dry\",\"Fridge\",\"Freezer\"];const handleChange=e=>{const{name,value,type,checked}=e.target;setFormData({...formData,[name]:type===\"checkbox\"?checked:value});};const handleSubmit=async e=>{e.preventDefault();try{const dataToSend={...formData,barcode:Date.now().toString(),// auto-generate barcode\nnum_containers:parseInt(formData.num_containers,10),units_per_container:parseFloat(formData.units_per_container),expiration_date:formData.expiration_date||null// allow empty\n};await axios.post(\"http://127.0.0.1:8000/add\",dataToSend);alert(\"Ingredient added successfully!\");navigate(\"/\");}catch(error){var _error$response,_error$response$data;console.error(error);alert(`Error adding ingredient: ${((_error$response=error.response)===null||_error$response===void 0?void 0:(_error$response$data=_error$response.data)===null||_error$response$data===void 0?void 0:_error$response$data.detail)||error.message}`);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"form-container bg-white shadow-md rounded-md p-6\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-bold mb-4\",children:\"Add New Ingredient\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"grid grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsx(\"input\",{name:\"ingredient_name\",placeholder:\"Ingredient Name\",value:formData.ingredient_name,onChange:handleChange,required:true,className:\"border p-2\"}),/*#__PURE__*/_jsx(\"input\",{name:\"num_containers\",type:\"number\",placeholder:\"Quantity\",value:formData.num_containers,onChange:handleChange,required:true,className:\"border p-2\"}),/*#__PURE__*/_jsx(\"input\",{name:\"units_per_container\",type:\"number\",placeholder:\"Units per Container\",value:formData.units_per_container,onChange:handleChange,required:true,className:\"border p-2\"}),/*#__PURE__*/_jsx(\"input\",{name:\"unit\",placeholder:\"Unit\",value:formData.unit,onChange:handleChange,required:true,className:\"border p-2\"}),/*#__PURE__*/_jsx(\"input\",{name:\"expiration_date\",type:\"date\",placeholder:\"Expiration Date\",value:formData.expiration_date,onChange:handleChange,className:\"border p-2\"}),/*#__PURE__*/_jsx(\"input\",{name:\"storage_location\",placeholder:\"Storage Location\",value:formData.storage_location,onChange:handleChange,className:\"border p-2\"}),/*#__PURE__*/_jsxs(\"select\",{name:\"item_category\",value:formData.item_category,onChange:handleChange,className:\"border p-2 col-span-2\",required:true,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select Item Category\"}),itemCategories.map(cat=>/*#__PURE__*/_jsx(\"option\",{value:cat,children:cat},cat))]}),/*#__PURE__*/_jsxs(\"select\",{name:\"storage_type\",value:formData.storage_type,onChange:handleChange,className:\"border p-2 col-span-2\",required:true,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select Storage Type\"}),storageTypes.map(type=>/*#__PURE__*/_jsx(\"option\",{value:type,children:type},type))]}),/*#__PURE__*/_jsx(\"input\",{name:\"container_type\",placeholder:\"Container Type\",value:formData.container_type,onChange:handleChange,className:\"border p-2\"}),/*#__PURE__*/_jsx(\"input\",{name:\"brand\",placeholder:\"Brand\",value:formData.brand,onChange:handleChange,className:\"border p-2\"}),/*#__PURE__*/_jsxs(\"label\",{className:\"flex items-center col-span-2\",children:[/*#__PURE__*/_jsx(\"input\",{name:\"tefap\",type:\"checkbox\",checked:formData.tefap,onChange:handleChange,className:\"mr-2\"}),\"TEFAP\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-span-2 flex gap-4 mt-4\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"bg-green-500 text-white px-4 py-2 rounded\",children:\"Save\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>navigate(\"/\"),className:\"bg-gray-300 text-black px-4 py-2 rounded\",children:\"Cancel\"})]})]})]});};export default AddIngredient;","map":{"version":3,"names":["React","useState","useNavigate","axios","jsx","_jsx","jsxs","_jsxs","AddIngredient","navigate","formData","setFormData","ingredient_name","num_containers","units_per_container","unit","expiration_date","storage_location","item_category","storage_type","container_type","brand","tefap","itemCategories","storageTypes","handleChange","e","name","value","type","checked","target","handleSubmit","preventDefault","dataToSend","barcode","Date","now","toString","parseInt","parseFloat","post","alert","error","_error$response","_error$response$data","console","response","data","detail","message","className","children","onSubmit","placeholder","onChange","required","map","cat","onClick"],"sources":["C:/Users/charl/OneDrive/Documents/GitHub/NMOW-Senior-Design-APP-TEST/inventory-dashboard/src/components/AddIngredient.js"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\n\r\nconst AddIngredient = () => {\r\n  const navigate = useNavigate();\r\n\r\n  const [formData, setFormData] = useState({\r\n    ingredient_name: \"\",\r\n    num_containers: \"\",\r\n    units_per_container: \"\",\r\n    unit: \"Servings\",\r\n    expiration_date: \"\",\r\n    storage_location: \"\",\r\n    item_category: \"\",\r\n    storage_type: \"\",\r\n    container_type: \"\",\r\n    brand: \"\",\r\n    tefap: false,\r\n  });\r\n\r\n  const itemCategories = [\r\n    \"Vegetable\",\r\n    \"Starch\",\r\n    \"Fruit\",\r\n    \"Canned Entree\",\r\n    \"Sauce\",\r\n    \"Misc\",\r\n    \"Dessert\",\r\n    \"Beans\",\r\n    \"Snack\",\r\n    \"Protein Entree\",\r\n    \"Starch and Protein Entree\",\r\n  ];\r\n\r\n  const storageTypes = [\"Dry\", \"Fridge\", \"Freezer\"];\r\n\r\n  const handleChange = (e) => {\r\n    const { name, value, type, checked } = e.target;\r\n    setFormData({\r\n      ...formData,\r\n      [name]: type === \"checkbox\" ? checked : value,\r\n    });\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      const dataToSend = {\r\n        ...formData,\r\n        barcode: Date.now().toString(), // auto-generate barcode\r\n        num_containers: parseInt(formData.num_containers, 10),\r\n        units_per_container: parseFloat(formData.units_per_container),\r\n        expiration_date: formData.expiration_date || null, // allow empty\r\n      };\r\n\r\n      await axios.post(\"http://127.0.0.1:8000/add\", dataToSend);\r\n      alert(\"Ingredient added successfully!\");\r\n      navigate(\"/\");\r\n    } catch (error) {\r\n      console.error(error);\r\n      alert(`Error adding ingredient: ${error.response?.data?.detail || error.message}`);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"form-container bg-white shadow-md rounded-md p-6\">\r\n      <h2 className=\"text-xl font-bold mb-4\">Add New Ingredient</h2>\r\n      <form onSubmit={handleSubmit} className=\"grid grid-cols-2 gap-4\">\r\n\r\n        <input name=\"ingredient_name\" placeholder=\"Ingredient Name\" value={formData.ingredient_name} onChange={handleChange} required className=\"border p-2\" />\r\n        <input name=\"num_containers\" type=\"number\" placeholder=\"Quantity\" value={formData.num_containers} onChange={handleChange} required className=\"border p-2\" />\r\n        <input name=\"units_per_container\" type=\"number\" placeholder=\"Units per Container\" value={formData.units_per_container} onChange={handleChange} required className=\"border p-2\" />\r\n        <input name=\"unit\" placeholder=\"Unit\" value={formData.unit} onChange={handleChange} required className=\"border p-2\" />\r\n        <input name=\"expiration_date\" type=\"date\" placeholder=\"Expiration Date\" value={formData.expiration_date} onChange={handleChange} className=\"border p-2\" />\r\n        <input name=\"storage_location\" placeholder=\"Storage Location\" value={formData.storage_location} onChange={handleChange} className=\"border p-2\" />\r\n\r\n        <select name=\"item_category\" value={formData.item_category} onChange={handleChange} className=\"border p-2 col-span-2\" required>\r\n          <option value=\"\">Select Item Category</option>\r\n          {itemCategories.map((cat) => (\r\n            <option key={cat} value={cat}>{cat}</option>\r\n          ))}\r\n        </select>\r\n\r\n        <select name=\"storage_type\" value={formData.storage_type} onChange={handleChange} className=\"border p-2 col-span-2\" required>\r\n          <option value=\"\">Select Storage Type</option>\r\n          {storageTypes.map((type) => (\r\n            <option key={type} value={type}>{type}</option>\r\n          ))}\r\n        </select>\r\n\r\n        <input name=\"container_type\" placeholder=\"Container Type\" value={formData.container_type} onChange={handleChange} className=\"border p-2\" />\r\n        <input name=\"brand\" placeholder=\"Brand\" value={formData.brand} onChange={handleChange} className=\"border p-2\" />\r\n\r\n        <label className=\"flex items-center col-span-2\">\r\n          <input name=\"tefap\" type=\"checkbox\" checked={formData.tefap} onChange={handleChange} className=\"mr-2\" />\r\n          TEFAP\r\n        </label>\r\n\r\n        <div className=\"col-span-2 flex gap-4 mt-4\">\r\n          <button type=\"submit\" className=\"bg-green-500 text-white px-4 py-2 rounded\">Save</button>\r\n          <button type=\"button\" onClick={() => navigate(\"/\")} className=\"bg-gray-300 text-black px-4 py-2 rounded\">Cancel</button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AddIngredient;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}